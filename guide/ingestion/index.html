
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Deployment and User Guide for Tetra Connect">
      
      
        <meta name="author" content="Tetra Technology Ltd">
      
      
      
        <link rel="prev" href="../../setup/integration/">
      
      
        <link rel="next" href="../searching/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Data Ingestion - Tetra Connect Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-ingestion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tetra Connect Documentation" class="md-header__button md-logo" aria-label="Tetra Connect Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.68 12.32a4.49 4.49 0 0 0-6.36.01 4.49 4.49 0 0 0 0 6.36 4.51 4.51 0 0 0 5.57.63L21 22.39 22.39 21l-3.09-3.11c1.13-1.77.87-4.09-.62-5.57m-1.41 4.95c-.98.98-2.56.97-3.54 0-.97-.98-.97-2.56.01-3.54.97-.97 2.55-.97 3.53 0 .97.98.97 2.56 0 3.54M10.9 20.1a6.5 6.5 0 0 1-1.48-2.32C6.27 17.25 4 15.76 4 14v3c0 2.21 3.58 4 8 4-.4-.26-.77-.56-1.1-.9M4 9v3c0 1.68 2.07 3.12 5 3.7v-.2c0-.93.2-1.85.58-2.69C6.34 12.3 4 10.79 4 9m8-6C7.58 3 4 4.79 4 7c0 2 3 3.68 6.85 4h.05c1.2-1.26 2.86-2 4.6-2 .91 0 1.81.19 2.64.56A3.22 3.22 0 0 0 20 7c0-2.21-3.58-4-8-4"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tetra Connect Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data Ingestion
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../overview/" class="md-tabs__link">
        
  
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../setup/deployment/" class="md-tabs__link">
          
  
  
  Setup

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Using Tetra Connect

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/search-service/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tetra Connect Documentation" class="md-nav__button md-logo" aria-label="Tetra Connect Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.68 12.32a4.49 4.49 0 0 0-6.36.01 4.49 4.49 0 0 0 0 6.36 4.51 4.51 0 0 0 5.57.63L21 22.39 22.39 21l-3.09-3.11c1.13-1.77.87-4.09-.62-5.57m-1.41 4.95c-.98.98-2.56.97-3.54 0-.97-.98-.97-2.56.01-3.54.97-.97 2.55-.97 3.53 0 .97.98.97 2.56 0 3.54M10.9 20.1a6.5 6.5 0 0 1-1.48-2.32C6.27 17.25 4 15.76 4 14v3c0 2.21 3.58 4 8 4-.4-.26-.77-.56-1.1-.9M4 9v3c0 1.68 2.07 3.12 5 3.7v-.2c0-.93.2-1.85.58-2.69C6.34 12.3 4 10.79 4 9m8-6C7.58 3 4 4.79 4 7c0 2 3 3.68 6.85 4h.05c1.2-1.26 2.86-2 4.6-2 .91 0 1.81.19 2.64.56A3.22 3.22 0 0 0 20 7c0-2.21-3.58-4-8-4"/></svg>

    </a>
    Tetra Connect Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Setup
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Using Tetra Connect
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Using Tetra Connect
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Data Ingestion
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Ingestion
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-schema-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Schema Requirements
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-begin" class="md-nav__link">
    <span class="md-ellipsis">
      
        Before You Begin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-refresh" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full Refresh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sync-specific-records" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sync Specific Records
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verify-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verify Ingestion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingestion-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ingestion Performance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ingestion Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batch-size" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch Size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-buffer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory Buffer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread-pool" class="md-nav__link">
    <span class="md-ellipsis">
      
        Thread Pool
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-sharding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Index Sharding
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#impact-during-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Impact During Ingestion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../searching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performing Searches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/search-service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search Service
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/score-service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Score Service
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/ingestion-service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ingestion Service
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI Service
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-schema-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Schema Requirements
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-begin" class="md-nav__link">
    <span class="md-ellipsis">
      
        Before You Begin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-refresh" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full Refresh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sync-specific-records" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sync Specific Records
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verify-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verify Ingestion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingestion-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ingestion Performance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ingestion Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batch-size" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch Size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-buffer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory Buffer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread-pool" class="md-nav__link">
    <span class="md-ellipsis">
      
        Thread Pool
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-sharding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Index Sharding
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#impact-during-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Impact During Ingestion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="data-ingestion">Data Ingestion<a class="headerlink" href="#data-ingestion" title="Permanent link">&para;</a></h1>
<p>This guide covers loading data from your database and building searchable indexes using the ingestion service.</p>
<h2 id="data-schema-requirements">Data Schema Requirements<a class="headerlink" href="#data-schema-requirements" title="Permanent link">&para;</a></h2>
<p>Tetra Connect expects your database to contain person records with three required columns. Whilst the table and column names are configurable via environment variables, the data format is standardised.</p>
<p><strong>Required columns</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Format</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>External ID</strong></td>
<td>String/Number</td>
<td>Unique identifier for the record. Used to link search results back to your source data.</td>
<td><code>12345</code>, <code>EMP001</code></td>
</tr>
<tr>
<td><strong>Name</strong></td>
<td>Space-separated string</td>
<td>Full name containing first name, optional middle name(s), and last name.</td>
<td><code>John Smith</code>, <code>Jane Marie Doe</code></td>
</tr>
<tr>
<td><strong>Date of Birth</strong></td>
<td><code>YYYY-MM-DD</code></td>
<td>ISO 8601 date format</td>
<td><code>1990-01-15</code></td>
</tr>
</tbody>
</table>
<p><strong>Data quality expectations</strong></p>
<ul>
<li><strong>External ID</strong>: Must be unique across all records</li>
<li><strong>Name</strong>: Must contain at least first and last name separated by space. Middle names are optional.</li>
<li><strong>Date of Birth</strong>: Must be a valid date in <code>YYYY-MM-DD</code> format</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Data Preparation</p>
<p>Tetra Connect assumes your data is clean and meets these format requirements. It is your responsibility to ensure data quality before ingestion. Invalid or malformed data may result in indexing errors or poor search quality.</p>
</div>
<p><strong>Configuring column mapping</strong></p>
<p>Map your database columns to these fields using environment variables on the Ingestion Service:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nv">TETRA_CONNECT_DATASOURCE_TABLE_NAME</span><span class="o">=</span>persons
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nv">TETRA_CONNECT_DATASOURCE_COLUMN_NAMES_SOURCEUNIQUEID</span><span class="o">=</span>person_id
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nv">TETRA_CONNECT_DATASOURCE_COLUMN_NAMES_SOURCENAME</span><span class="o">=</span>full_name
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nv">TETRA_CONNECT_DATASOURCE_COLUMN_NAMES_SOURCEDOB</span><span class="o">=</span>dob
</code></pre></div>
<p>See the <a href="../../setup/deployment/#ingestion-service">Deployment Guide</a> for full configuration details.</p>
<h2 id="before-you-begin">Before You Begin<a class="headerlink" href="#before-you-begin" title="Permanent link">&para;</a></h2>
<p>Ensure you have:</p>
<ul>
<li>Completed <a href="../../setup/deployment/">deployment</a> and all services are healthy</li>
<li>Database populated with person records matching the schema requirements above</li>
<li>Sufficient disk space on shared storage for indexes (approximately 1GB per 1M records)</li>
</ul>
<h2 id="full-refresh">Full Refresh<a class="headerlink" href="#full-refresh" title="Permanent link">&para;</a></h2>
<p>A full refresh rebuilds all indexes from scratch by reading all records from your database. This operation deletes existing indexes and re-processes every record.</p>
<p><strong>When to use</strong></p>
<ul>
<li>Initial setup after deployment</li>
<li>After significant database changes</li>
<li>To rebuild indexes from scratch</li>
</ul>
<p><strong>Triggering a full refresh</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>http://&lt;ingestion-service-url&gt;/api/refresh
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Asynchronous Operation</p>
<p>The refresh endpoint is asynchronous. The API returns immediately whilst ingestion runs in the background. Monitor the Ingestion Service logs to track progress.</p>
</div>
<p>This will:</p>
<ol>
<li>Connect to your configured database</li>
<li>Read all records from the configured table</li>
<li>Build searchable indexes</li>
<li>Write indexes to shared storage</li>
</ol>
<p><strong>Monitor progress</strong></p>
<p>Check the Ingestion Service logs to monitor progress. Look for messages indicating batch processing:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>Processing batch number: 1
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>Completed indexing batch number: 1
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>Processing batch number: 2
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>Completed indexing batch number: 2
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>...
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>Refresh complete - processed 1000000 records in 120 seconds
</code></pre></div>
<p>Each batch processes the configured number of records (default: 100,000). The final message confirms total records indexed and time taken.</p>
<h2 id="sync-specific-records">Sync Specific Records<a class="headerlink" href="#sync-specific-records" title="Permanent link">&para;</a></h2>
<p>Synchronise specific records by their external IDs without rebuilding the entire index.</p>
<p><strong>When to use</strong></p>
<ul>
<li>Update specific records after changes</li>
<li>Add newly created records</li>
<li>Refresh a subset of data</li>
</ul>
<p><strong>Syncing records</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://&lt;ingestion-service-url&gt;/api/sync?externalIds=id1,id2,id3&quot;</span>
</code></pre></div>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:1970/api/sync?externalIds=12345,67890,11111&quot;</span>
</code></pre></div></p>
<div class="admonition info">
<p class="admonition-title">Synchronous Operation</p>
<p>The sync endpoint is synchronous. The API waits for the sync to complete before returning. This is suitable for small numbers of records.</p>
</div>
<p>This will synchronise only the specified records from your database.</p>
<h2 id="verify-ingestion">Verify Ingestion<a class="headerlink" href="#verify-ingestion" title="Permanent link">&para;</a></h2>
<p>After ingestion completes, verify the indexes were created successfully.</p>
<p><strong>Check index size</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>curl<span class="w"> </span>http://&lt;ingestion-service-url&gt;/api/size
</code></pre></div>
<p>The returned number should match your expected record count.</p>
<p><strong>Check shared storage</strong></p>
<p>Verify index files exist in shared storage:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># List index files in shared storage location (TETRA_CONNECT_INDEX_DIRECTORY)</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1"># Default location: /tmp/tetra-connect</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>ls<span class="w"> </span>-la<span class="w"> </span>/mnt/shared-storage
</code></pre></div>
<p>You should see index files and directories (segments_<em>, </em>.cfs, write.lock, etc.).</p>
<p><strong>Test a search</strong></p>
<p>Verify searches work against the new indexes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>curl<span class="w"> </span><span class="s2">&quot;http://&lt;search-service-url&gt;/api/search?firstName=John&amp;lastName=Smith&amp;dob=1990-01-15&quot;</span>
</code></pre></div>
<p>If you get results, ingestion was successful!</p>
<h2 id="ingestion-performance">Ingestion Performance<a class="headerlink" href="#ingestion-performance" title="Permanent link">&para;</a></h2>
<p>Ingestion performance depends on several factors:</p>
<ul>
<li><strong>Dataset size</strong> - More records take longer</li>
<li><strong>Database performance</strong> - Query speed affects ingestion speed</li>
<li><strong>Batch size</strong> - Configurable via <code>TETRA_CONNECT_INDEX_BATCH_SIZE</code> (default: 100,000)</li>
<li><strong>Resources</strong> - CPU and memory allocated to Ingestion Service</li>
</ul>
<p><strong>Typical ingestion rates</strong></p>
<p>With standard configuration, expect approximately <strong>1 million records per minute</strong>. For example:</p>
<ul>
<li>1 million records: ~1 minute</li>
<li>10 million records: ~10 minutes</li>
<li>50 million records: ~50 minutes</li>
</ul>
<p>Actual performance may vary based on your hardware, database speed, and configuration.</p>
<p><strong>Performance tuning</strong></p>
<p>If ingestion is slower than expected, consider adjusting these configuration options.</p>
<h3 id="batch-size">Batch Size<a class="headerlink" href="#batch-size" title="Permanent link">&para;</a></h3>
<p><code>TETRA_CONNECT_INDEX_BATCH_SIZE</code> (default: <code>100000</code>)</p>
<p>Number of records fetched from the database and processed per batch.</p>
<ul>
<li><strong>Larger values</strong>: Faster ingestion but higher memory usage</li>
<li><strong>Smaller values</strong>: Lower memory usage but more database queries</li>
<li><strong>Recommendation</strong>: Start with default, increase if you have sufficient memory</li>
</ul>
<h3 id="memory-buffer">Memory Buffer<a class="headerlink" href="#memory-buffer" title="Permanent link">&para;</a></h3>
<p><code>TETRA_CONNECT_INDEX_MEMORY_SIZE</code> (default: <code>1024</code>)</p>
<p>RAM buffer size in MB for the index writer. Controls how much data is buffered in memory before writing to disk.</p>
<ul>
<li><strong>Larger values</strong>: Fewer disk writes, faster indexing</li>
<li><strong>Smaller values</strong>: More frequent disk writes, lower memory usage</li>
<li><strong>Recommendation</strong>: Set to 25-50% of available container memory</li>
</ul>
<h3 id="thread-pool">Thread Pool<a class="headerlink" href="#thread-pool" title="Permanent link">&para;</a></h3>
<p><code>TETRA_CONNECT_INDEX_THREAD_POOL_SIZE</code> (default: <code>8</code>)</p>
<p>Number of parallel threads for batch processing.</p>
<ul>
<li><strong>Larger values</strong>: More parallel processing if you have CPU cores available</li>
<li><strong>Lower values</strong>: Reduced CPU usage and memory pressure</li>
<li><strong>Recommendation</strong>: Match to available CPU cores</li>
</ul>
<h3 id="index-sharding">Index Sharding<a class="headerlink" href="#index-sharding" title="Permanent link">&para;</a></h3>
<p><code>TETRA_CONNECT_INDEX_SHARDS_NUMBER</code> (default: <code>5</code>)</p>
<p>Number of index shards for parallel indexing and searching. The index is split into multiple shards that can be processed concurrently.</p>
<ul>
<li><strong>More shards</strong>: Better parallelisation for very large datasets (&gt;10M records)</li>
<li><strong>Fewer shards</strong>: Lower overhead for smaller datasets</li>
<li><strong>Recommendation</strong>: The default of 5 shards works well for most use cases. Only adjust for very large datasets or specific performance requirements.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Applies to Both Services</p>
<p>This setting affects both Ingestion Service and Search Service. Both must use the same value.</p>
</div>
<p><strong>Other performance factors</strong></p>
<ul>
<li><strong>Database performance</strong>: Ensure your database can handle the read load efficiently</li>
<li><strong>Network latency</strong>: Minimise network distance between Ingestion Service and database</li>
<li><strong>Disk I/O</strong>: Shared storage write performance affects indexing speed</li>
<li><strong>Container resources</strong>: Ensure sufficient CPU and memory allocated to Ingestion Service</li>
</ul>
<p>See the <a href="../../setup/deployment/#performance-tuning">Deployment Guide</a> for configuration examples.</p>
<h2 id="impact-during-ingestion">Impact During Ingestion<a class="headerlink" href="#impact-during-ingestion" title="Permanent link">&para;</a></h2>
<p>TBD</p>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../searching/">Perform searches</a> to test your indexed data and learn about tuning search behaviour</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../setup/integration/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Integration">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Integration
              </div>
            </div>
          </a>
        
        
          
          <a href="../searching/" class="md-footer__link md-footer__link--next" aria-label="Next: Performing Searches">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Performing Searches
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
    
  </body>
</html>